# 架构设计

本系统代码采用的是借鉴于操作系统的

## 具体层次介绍

1. 第一层是数据库操作层和工具层,所有数据库操作都是对postgres和redis的操作,不涉及逻辑,工具主要是常用的数据处理工具服务
2. 第二层是逻辑层,用于提供复杂的功能函数对外提供逻辑处理服务
3. 第三层是应用层,选择使用逻辑层的功能函数对外暴露api并开启多线程对本系统进行自动化管理

## 架构设计的教训

1. 这是最让我破防的，就是要多利用数据库的原生功能，换句话说就是要利用好已经被大神写好的高性能代码。不要自己去造轮子。
2. 我尝试将一些内容放在内存中，再把课程更新的事情交给一个自动程序，但是很显然这里太复杂了，有什么办法吗？当初是不是真的应该不使用这种办法存储，其实手动创建也蛮好嘛，一切都自主可控，放在内存中更是一个灾难，重启了怎么办，这个问题很严重，但是确实不得不面对，你是先存着然后再想办法取出来？我先尝试写得去如果有问题那就另外说好了。
3. 很遗憾，内存中存放的数据，应该是确定丢了问题不大的，这个时候才能讲说是不是来使用内存来提速，redis是另一回事，我更倾向于将redis理解为一种速度极快的传统数据库，但是功能差了很多,而且有个很棘手的问题，使用map作为一个存储的方式很蠢，因为不能再去对key进行操作了，这是我不了解map的使用方式造成的损失，以后不能犯这种错误了，数据结构应该越简单越好
4. 决策失误，我在card模块的时候并没有遵循模块化的搭建方式，而是写完跳过了基本的测验和前端的构建，继续去写class模块，而class模块又和resume模块紧相连，实际上在完成的是三个模块，简直就是屎山。在现实开发中如果多人合作，那么异步是好事还是坏事呢？我的想法是每个模块的核心功能应该做到后端及时写完及时检测，而前端可以跟在后端的脚步写，而如果有什么需要后端提供更多的信息的时候，叫后端补上，这也是某种程度的异步。而这种方式是很好的，前提是小团队的情况下