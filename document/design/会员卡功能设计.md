# 会员卡功能设计

首先思考有哪些功能需要被使用到，按照用户的使用顺序考虑

1. 管理员要能插入新的会员卡，幸好有数据库的约束功能，这不会太难太难

2. 管理员如果觉得不对劲，要能够删除一张刚刚创建的卡

3. 为了能被管理员和用户都看到，应该有检视所有卡的基本信息功能（这里同时也要给出所有特殊支持和禁止的课程的基本信息，为了不要使用两段请求，所以这里应该是个复杂的大api）

4. 检视所有卡的时候，给出的课程相关的信息只有支持的大类和特殊支持和禁止的名字，所以要给出一个根据courseid查看详细课程信息的api，并且最好是不做任何权限管理方便三个平台使用

5. 用户买卡，这里用户看到了喜欢的卡，联系管理员，管理员在命令行平台赋予用户一个购买卡的记录

6. 内存存储用户和卡的map的刷新deamon。注意，这里应该写一个接口，并且给用户买卡这个api加上买一次都会刷新的功能

7. 管理员和用户都应该有一个查看用户会员卡情况的接口（另外为了实现强制删除某个卡，管理员应该拥有一个通过cardID查看所有拥有这个卡的api

8. 管理员应该有一个删除用户会员卡的接口，如果删除那么也应该调用这个api

9. 应该有一个公共函数，能做到方便将来的约课功能，输入用户id和courseId就能得到true和false,而且这个和6功能应该公用一把锁